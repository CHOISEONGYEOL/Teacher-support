# ğŸ—³ï¸ íˆ¬ëª…í•œ ì„ í˜¸ íˆ¬í‘œ(IRV) ì‹œìŠ¤í…œ

êµìœ¡ í˜„ì¥ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ **Instant-Runoff Voting(IRV)** ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
QRì½”ë“œ ì ‘ì†, ë™ë¬¼ ë‹‰ë„¤ì„ì„ í†µí•œ ìµëª…ì„±ê³¼ ê²€ì¦ ê°€ëŠ¥ì„±, ì§ê´€ì ì¸ ë“œë˜ê·¸ì•¤ë“œë¡­ íˆ¬í‘œ UIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“ êµì‚¬(ê´€ë¦¬ì) ê¸°ëŠ¥
- íˆ¬í‘œ ì£¼ì œ ë° í›„ë³´ì ì„¤ì •
- QR ì½”ë“œ ìƒì„± ë° ëŒ€í˜• í™”ë©´ ì¶œë ¥
- ì‹¤ì‹œê°„ ì°¸ê°€ì/íˆ¬í‘œ í˜„í™© ëª¨ë‹ˆí„°ë§
- íˆ¬í‘œ ì‹œì‘/ì¢…ë£Œ ì»¨íŠ¸ë¡¤
- IRV ê²°ê³¼ ì‹œê°í™” ë° ìƒì„¸ ë¡œê·¸ ê³µê°œ

### ğŸ‘¨â€ğŸ“ í•™ìƒ(ìœ ê¶Œì) ê¸°ëŠ¥
- QR ì½”ë“œ ìŠ¤ìº”ìœ¼ë¡œ ì¦‰ì‹œ ì°¸ê°€ (íšŒì›ê°€ì… ë¶ˆí•„ìš”)
- ëœë¤ ë™ë¬¼ ë‹‰ë„¤ì„ ìë™ ë¶€ì—¬ (ì˜ˆ: "í–‰ë³µí•œ ì¿¼ì¹´")
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ í›„ë³´ì ìˆœìœ„ ì§€ì •
- íˆ¬í‘œ ì™„ë£Œ í›„ ì˜ìˆ˜ì¦ í™•ì¸
- ì „ì²´ íˆ¬í‘œ ë‚´ì—­ì—ì„œ ìì‹ ì˜ í‘œ ê²€ì¦ ê°€ëŠ¥

### ğŸ“Š IRV ì•Œê³ ë¦¬ì¦˜
1. **1ì°¨ ì§‘ê³„**: ìœ ê¶Œìë“¤ì˜ 1ìˆœìœ„ í‘œ ì§‘ê³„
2. **ê³¼ë°˜ìˆ˜ í™•ì¸**: ê³¼ë°˜ìˆ˜(50%+1) ë“í‘œì ë°œìƒ ì‹œ ë‹¹ì„  í™•ì •
3. **ì¬ë¶„ë°°**: ê³¼ë°˜ìˆ˜ ì—†ìœ¼ë©´ ìµœí•˜ìœ„ íƒˆë½, í•´ë‹¹ í‘œë¥¼ 2ìˆœìœ„ í›„ë³´ì—ê²Œ ì´ì–‘
4. **ë°˜ë³µ**: ê³¼ë°˜ìˆ˜ ë“í‘œì ë‚˜ì˜¬ ë•Œê¹Œì§€ ë°˜ë³µ
5. **ì‹œê°í™”**: ë¼ìš´ë“œë³„ ë“í‘œ ë³€í™” ë° í‘œ ì´ë™ ì• ë‹ˆë©”ì´ì…˜

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **React 18** + TypeScript
- **Firebase Realtime Database** - ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- **@dnd-kit** - ë“œë˜ê·¸ ì•¤ ë“œë¡­
- **Framer Motion** - ì• ë‹ˆë©”ì´ì…˜
- **Recharts** - ì°¨íŠ¸ ì‹œê°í™”
- **Vite** - ë¹Œë“œ ë„êµ¬

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Fair-Vote-Counting/
â””â”€â”€ frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/     # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
    â”‚   â”‚   â”œâ”€â”€ DraggableVote.tsx      # ë“œë˜ê·¸ì•¤ë“œë¡­ íˆ¬í‘œ UI
    â”‚   â”‚   â””â”€â”€ ResultsVisualization.tsx # ê²°ê³¼ ì‹œê°í™”
    â”‚   â”œâ”€â”€ pages/          # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
    â”‚   â”‚   â”œâ”€â”€ HomePage.tsx           # ë©”ì¸ í˜ì´ì§€
    â”‚   â”‚   â”œâ”€â”€ CreateRoomPage.tsx     # íˆ¬í‘œë°© ìƒì„±
    â”‚   â”‚   â”œâ”€â”€ AdminDashboard.tsx     # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
    â”‚   â”‚   â”œâ”€â”€ VotingPage.tsx         # íˆ¬í‘œ í˜ì´ì§€
    â”‚   â”‚   â””â”€â”€ ResultsPage.tsx        # ê²°ê³¼ í˜ì´ì§€
    â”‚   â”œâ”€â”€ hooks/          # ì»¤ìŠ¤í…€ í›…
    â”‚   â”œâ”€â”€ utils/          # ìœ í‹¸ë¦¬í‹°
    â”‚   â”‚   â”œâ”€â”€ api.ts      # Firebase API
    â”‚   â”‚   â”œâ”€â”€ irv.ts      # IRV ì•Œê³ ë¦¬ì¦˜
    â”‚   â”‚   â”œâ”€â”€ nickname.ts # ë™ë¬¼ ë‹‰ë„¤ì„ ìƒì„±ê¸°
    â”‚   â”‚   â””â”€â”€ qrcode.ts   # QR ì½”ë“œ ìƒì„±
    â”‚   â””â”€â”€ styles/         # ì „ì—­ ìŠ¤íƒ€ì¼
    â””â”€â”€ package.json
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. Firebase í”„ë¡œì íŠ¸ ì„¤ì •

1. [Firebase Console](https://console.firebase.google.com)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
2. **Realtime Database** í™œì„±í™” (í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì‹œì‘)
3. í”„ë¡œì íŠ¸ ì„¤ì • > ì¼ë°˜ > ë‚´ ì•± > **ì›¹ ì•± ì¶”ê°€**
4. Firebase ì„¤ì •ê°’ ë³µì‚¬

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
cd frontend
cp .env.example .env
```

`.env` íŒŒì¼ì— Firebase ì„¤ì •ê°’ ì…ë ¥:

```env
VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_DATABASE_URL=https://your-project-default-rtdb.firebaseio.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef
```

### 3. ì‹¤í–‰

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

ì›¹ ì•±: http://localhost:3000

## ğŸ“– ì‚¬ìš© ë°©ë²•

### 1. íˆ¬í‘œ ìƒì„± (êµì‚¬)
1. í™ˆí˜ì´ì§€ì—ì„œ "íˆ¬í‘œ ë§Œë“¤ê¸°" í´ë¦­
2. íˆ¬í‘œ ì œëª©, ì„¤ëª…, í›„ë³´ì ì…ë ¥
3. "íˆ¬í‘œë°© ìƒì„±í•˜ê¸°" í´ë¦­
4. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì—ì„œ QR ì½”ë“œë¥¼ ëŒ€í˜• í™”ë©´ì— í‘œì‹œ

### 2. íˆ¬í‘œ ì°¸ê°€ (í•™ìƒ)
1. QR ì½”ë“œ ìŠ¤ìº” ë˜ëŠ” ì°¸ê°€ ì½”ë“œ ì…ë ¥
2. ìë™ ë¶€ì—¬ëœ ë™ë¬¼ ë‹‰ë„¤ì„ í™•ì¸
3. íˆ¬í‘œ ì‹œì‘ê¹Œì§€ ëŒ€ê¸°

### 3. íˆ¬í‘œ ì§„í–‰
1. êµì‚¬ê°€ "íˆ¬í‘œ ì‹œì‘" ë²„íŠ¼ í´ë¦­
2. í•™ìƒë“¤ì´ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ìˆœìœ„ ì§€ì •
3. "íˆ¬í‘œí•˜ê¸°" ë²„íŠ¼ìœ¼ë¡œ ì œì¶œ
4. íˆ¬í‘œ ì˜ìˆ˜ì¦ í™•ì¸

### 4. ê²°ê³¼ í™•ì¸
1. êµì‚¬ê°€ "íˆ¬í‘œ ì¢…ë£Œ" ë²„íŠ¼ í´ë¦­
2. IRV ì•Œê³ ë¦¬ì¦˜ ìë™ ì§‘ê³„
3. ë¼ìš´ë“œë³„ ê²°ê³¼ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í™•ì¸
4. "ì „ì²´ íˆ¬í‘œ ë‚´ì—­ ê³µê°œ"ì—ì„œ ìì‹ ì˜ ë‹‰ë„¤ì„ ê²€ìƒ‰í•˜ì—¬ ê²€ì¦

## ğŸ“Š Firebase ë°ì´í„° êµ¬ì¡°

```
/rooms/{roomCode}
  /info
    - title: string
    - description: string
    - status: "waiting" | "active" | "closed"
    - adminKey: string
    - createdAt: number
  /candidates/{id}
    - id: number
    - name: string
    - description: string
    - display_order: number
  /voters/{oderId}
    - oderId: string
    - nickname: string
    - hasVoted: boolean
    - joinedAt: number
  /votes/{oderId}
    - rankings: {"1": candidateId, "2": candidateId, ...}
    - votedAt: number
```

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- **ìµëª…ì„±**: ì„¸ì…˜ IDì™€ ë™ë¬¼ ë‹‰ë„¤ì„ìœ¼ë¡œë§Œ ì‹ë³„ (ê°œì¸ì •ë³´ ìˆ˜ì§‘ ì—†ìŒ)
- **ê²€ì¦ ê°€ëŠ¥ì„±**: ëª¨ë“  íˆ¬í‘œê°€ ë‹‰ë„¤ì„ê³¼ í•¨ê»˜ ê³µê°œë˜ì–´ ì¡°ì‘ ë°©ì§€
- **ê´€ë¦¬ì ì¸ì¦**: adminKeyë¡œ íˆ¬í‘œë°© ì œì–´ ê¶Œí•œ ë³´í˜¸
- **ì¤‘ë³µ íˆ¬í‘œ ë°©ì§€**: ì„¸ì…˜ ê¸°ë°˜ 1ì¸ 1í‘œ ì œí•œ

## ğŸŒ ë°°í¬

Vercel, Netlify ë“±ìœ¼ë¡œ ì‰½ê²Œ ë°°í¬ ê°€ëŠ¥:

```bash
npm run build
```

## ğŸ“ ë¼ì´ì„ ìŠ¤

êµìœ¡ ëª©ì ìœ¼ë¡œ ììœ ë¡­ê²Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
